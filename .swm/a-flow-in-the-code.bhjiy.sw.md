---
id: bhjiy
title: A flow in the code
file_version: 1.1.1
app_version: 1.0.20
---

## Introduction

This doc describes the {{SUBJECT}} flow in our system. We will follow its implementation across the various locations so you can understand how the different parts create the full picture.

<br/>

<br/>

This is where the starting place of the project and where the main code will be added to run the producer and consumer.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ MultiThread/src/com/nbui/Main.java
```java
3      public class Main {
4      
5          public static void main(String[] args) throws InterruptedException {
6      	// write your code here
7              Producer_consumer producerConsumer = new Producer_consumer();
8      
9              Thread t1 = new Thread(new Runnable(){
10                 @Override
11                 public void run(){
12                     try {
13                         producerConsumer.produce();
14                     } catch (InterruptedException e) {
15                         throw new RuntimeException(e);
16                     }
17                 }
18             });
19     
20             Thread t2 = new Thread(new Runnable() {
21                 @Override
22                 public void run() {
23                     try {
24                         producerConsumer.consume();
25                     } catch (InterruptedException e) {
26                         throw new RuntimeException(e);
27                     }
28                 }
29             });
30     
31             t1.start();
32             t2.start();
33     
34             t1.join();
35             t2.join();
36         }
37     }
38     
```

<br/>

## Producer-Consumer class

<br/>

<br/>

This class will hold the methods for the producer and consumer to be used.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ MultiThread/src/com/nbui/Producer_consumer.java
```java
5      public class Producer_consumer {
6          LinkedList<Integer> testList = new LinkedList<>();
7          int capacity = 2;
8      
9          public Producer_consumer(){}
10     
11         public void produce() throws InterruptedException {
12             int value = 0;
13             while(true) {
14                 synchronized (this){
15                     while(testList.size() == capacity)
16                         wait();
17                     System.out.println("Producer produced-" + value);
18     
19                     testList.add(value++);
20     
21                     notify();
22     
23                     Thread.sleep(1000);
24                 }
25             }
26         }
27     
28         public void consume() throws InterruptedException{
29             while(true){
30                 synchronized (this){
31                     while(testList.size() == 0)
32                         wait();
33     
34                     int val = testList.removeFirst();
35     
36                     System.out.println("Consumer consumed-" + val);
37     
38                     notify();
39     
40                     Thread.sleep(1000);
41                 }
```

<br/>

## Things to note

{{Who uses this flow and when?}}

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBTXVsdGlUaHJlYWRfUE9DJTNBJTNBbmlja2J1aQ==/docs/bhjiy).
